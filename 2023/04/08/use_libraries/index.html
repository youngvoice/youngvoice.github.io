<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"youngvoice.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.14.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="编译，链接，装载">
<meta property="og:type" content="article">
<meta property="og:title" content="库的实现原理被分成了哪几个阶段？在各个阶段完成了什么样的工作？？？">
<meta property="og:url" content="https://youngvoice.github.io/2023/04/08/use_libraries/index.html">
<meta property="og:site_name" content="I am thinking...">
<meta property="og:description" content="编译，链接，装载">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-04-08T00:00:00.000Z">
<meta property="article:modified_time" content="2024-07-20T10:36:34.034Z">
<meta property="article:author" content="youngvoice">
<meta property="article:tag" content="cs">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="linker">
<meta property="article:tag" content="loader">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://youngvoice.github.io/2023/04/08/use_libraries/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://youngvoice.github.io/2023/04/08/use_libraries/","path":"2023/04/08/use_libraries/","title":"库的实现原理被分成了哪几个阶段？在各个阶段完成了什么样的工作？？？"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>库的实现原理被分成了哪几个阶段？在各个阶段完成了什么样的工作？？？ | I am thinking...</title>
  

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?d0151213913d23785e89cc44331002a7"></script>







  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">I am thinking...</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">46</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">66</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">48</span></a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5%E7%9A%84%E6%AD%A5%E9%AA%A4%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="nav-number">1.</span> <span class="nav-text">静态链接的步骤有哪些？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#What-is-shared-library"><span class="nav-number">2.</span> <span class="nav-text">What is shared library?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#How-the-dynamic-linking-mechanism-works-architecture-components"><span class="nav-number">3.</span> <span class="nav-text">How the dynamic linking mechanism works(architecture)(components)?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#How-is-the-shared-library-to-work"><span class="nav-number">4.</span> <span class="nav-text">How is the shared library to work?</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-use-a-shared-library-that-has-been-installed"><span class="nav-number">4.1.</span> <span class="nav-text">How to use a shared library that has been installed?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Compile-time"><span class="nav-number">4.2.</span> <span class="nav-text">Compile time</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#How-to-compile-a-executable-program-to-dependent-on-a-shared-library"><span class="nav-number">4.2.1.</span> <span class="nav-text">How to compile a executable program to dependent on a shared library?</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Runtime"><span class="nav-number">4.3.</span> <span class="nav-text">Runtime</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Where-is-the-dependent-lib%E2%80%99s-name-storing"><span class="nav-number">4.3.1.</span> <span class="nav-text">Where is the dependent lib’s name storing?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Where-to-find-the-program-dependent-libs"><span class="nav-number">4.3.2.</span> <span class="nav-text">Where to find the program dependent libs?</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Searching-all-of-these-directories-for-a-dependent-lib-at-program-start-up-would-be-grossly-inefficient-How-to-speed-this-caching"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">Searching all of these directories for a dependent lib at program start-up would be grossly inefficient. How to speed this?(caching)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#If-a-library-is-not-in-the-standard-place-how-to-use-it"><span class="nav-number">4.3.3.</span> <span class="nav-text">If a library is not in the standard place, how to use it?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How-to-temporarily-substitute-a-different-library-for-this-particular-execution"><span class="nav-number">4.3.4.</span> <span class="nav-text">How to temporarily substitute a different library for this particular execution?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How-to-override-a-few-functions-in-a-library-but-keep-the-rest-of-the-library"><span class="nav-number">4.3.5.</span> <span class="nav-text">How to override a few functions in a library, but keep the rest of the library?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#During-you-development-a-shared-library-when-you-modified-the-library-that-also-used-by-many-other-programs-how-you-can-let-the-many-other-programs-continue-use-the-old-version-other-than-the-development-version"><span class="nav-number">4.3.6.</span> <span class="nav-text">During you development a shared library, when you modified the library that also used by many other programs, how you can let the many other programs continue use the old version other than the development version?</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-create-a-shared-library"><span class="nav-number">4.4.</span> <span class="nav-text">How to create a shared library?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#How-to-install-the-compiled-shared-library"><span class="nav-number">4.4.1.</span> <span class="nav-text">How to install the compiled shared library?</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Terminology"><span class="nav-number">5.</span> <span class="nav-text">Terminology</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Shared-library-name"><span class="nav-number">5.1.</span> <span class="nav-text">Shared library name</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#soname"><span class="nav-number">5.1.1.</span> <span class="nav-text">soname</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#real-name"><span class="nav-number">5.1.2.</span> <span class="nav-text">real name</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linker-name"><span class="nav-number">5.1.3.</span> <span class="nav-text">linker name</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#what-name-should-exec-file-save-so-as-to-let-dynamic-linker-to-find-the-dependent-lib"><span class="nav-number">5.2.</span> <span class="nav-text">what name should exec file save, so as to let dynamic linker to find the dependent lib?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#how-to-update-the-shared-lib-version"><span class="nav-number">5.3.</span> <span class="nav-text">how to update the shared lib version?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#what-tools-can-used-to-install-the-new-version-lib"><span class="nav-number">5.4.</span> <span class="nav-text">what tools can used to install the new version lib?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#when-we-link-a-exec-or-lib-what-name-should-we-use"><span class="nav-number">5.5.</span> <span class="nav-text">when we link a exec or lib, what name should we use?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#which-directory-the-dynamic-linker-will-to-find-for-a-soname"><span class="nav-number">5.6.</span> <span class="nav-text">which directory the dynamic linker will to find for a soname?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#how-to-change-the-directory-that-dynamic-linker-load-lib-so-as-to-development-and-test-our-own-lib"><span class="nav-number">5.7.</span> <span class="nav-text">how to change the directory that dynamic linker load lib, so as to development and test our own lib?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#how-to-preload-lib-before-the-dynamic-linker-search-in-order"><span class="nav-number">5.8.</span> <span class="nav-text">how to preload lib before the dynamic linker search in order?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#how-to-debug-the-link-process"><span class="nav-number">5.9.</span> <span class="nav-text">how to debug the link process?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#why-the-dynamic-linker-and-glibc-name-is-special"><span class="nav-number">5.10.</span> <span class="nav-text">why the dynamic linker and glibc name is special?</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Scenario"><span class="nav-number">6.</span> <span class="nav-text">Scenario</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#reverse-reference"><span class="nav-number">6.1.</span> <span class="nav-text">reverse reference</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-list-the-shared-library-list-used-by-a-program"><span class="nav-number">6.2.</span> <span class="nav-text">How to list the shared library list used by a program?</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#How-to-implement-dynamic-linker"><span class="nav-number">7.</span> <span class="nav-text">How to implement dynamic linker?</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-give-quite-verbose-information-about-what-the-dl-functions-are-doing"><span class="nav-number">7.1.</span> <span class="nav-text">How to give quite verbose information about what the dl* functions are doing?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Where-are-ld-so-source-code"><span class="nav-number">7.2.</span> <span class="nav-text">Where are ld.so source code?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#use-dynamically-loaded-libraries"><span class="nav-number">7.3.</span> <span class="nav-text">use dynamically loaded libraries</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-the-mean-of-dynamically-loaded-libraries"><span class="nav-number">7.4.</span> <span class="nav-text">What the mean of dynamically loaded libraries?</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#How-to-use-a-dynamically-loaded-libraries"><span class="nav-number">8.</span> <span class="nav-text">How to use a dynamically loaded libraries?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Scenario-1"><span class="nav-number">9.</span> <span class="nav-text">Scenario</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#plugin-or-module"><span class="nav-number">9.1.</span> <span class="nav-text">plugin or module</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#implement-interpreter"><span class="nav-number">9.2.</span> <span class="nav-text">implement interpreter</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%A6%E5%8F%B7%E8%A7%A3%E6%9E%90%E4%B8%8E%E9%87%8D%E5%AE%9A%E4%BD%8D%E7%9A%84%E6%97%B6%E6%9C%BA%E6%9C%89%E5%87%A0%E7%A7%8D%EF%BC%9F"><span class="nav-number">10.</span> <span class="nav-text">符号解析与重定位的时机有几种？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%A5%E6%9C%BA%E5%88%B6%E6%94%AF%E6%8C%81%E5%BB%B6%E8%BF%9F-%E9%9D%9E%E5%BB%B6%E8%BF%9F%E7%BB%91%E5%AE%9A%E5%90%97"><span class="nav-number">10.0.0.1.</span> <span class="nav-text">该机制支持延迟&#x2F;非延迟绑定吗???</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BA%93%E6%96%87%E4%BB%B6%E7%9A%84%E8%A3%85%E8%BD%BD%E6%97%B6%E6%9C%BA%E6%9C%89%E5%87%A0%E7%A7%8D%EF%BC%9F"><span class="nav-number">11.</span> <span class="nav-text">库文件的装载时机有几种？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Summary"><span class="nav-number">12.</span> <span class="nav-text">Summary</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">13.</span> <span class="nav-text">Reference</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">youngvoice</p>
  <div class="site-description" itemprop="description">to record interesting things and questions</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">66</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://youngvoice.github.io/2023/04/08/use_libraries/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngvoice">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I am thinking...">
      <meta itemprop="description" content="to record interesting things and questions">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="库的实现原理被分成了哪几个阶段？在各个阶段完成了什么样的工作？？？ | I am thinking...">
      <meta itemprop="description" content="编译，链接，装载">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          库的实现原理被分成了哪几个阶段？在各个阶段完成了什么样的工作？？？
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-08 00:00:00" itemprop="dateCreated datePublished" datetime="2023-04-08T00:00:00+00:00">2023-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-07-20 10:36:34" itemprop="dateModified" datetime="2024-07-20T10:36:34+00:00">2024-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cs/" itemprop="url" rel="index"><span itemprop="name">cs</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cs/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cs/linux/loader/" itemprop="url" rel="index"><span itemprop="name">loader</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cs/linux/loader/linker/" itemprop="url" rel="index"><span itemprop="name">linker</span></a>
        </span>
    </span>

  
    <span id="/2023/04/08/use_libraries/" class="post-meta-item leancloud_visitors" data-flag-title="库的实现原理被分成了哪几个阶段？在各个阶段完成了什么样的工作？？？" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

            <div class="post-description">编译，链接，装载</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>库的实现原理被分成了哪几个阶段？？？<br>在各个阶段完成了什么样的工作？？？</p>
<p>关键字</p>
<table>
<thead>
<tr>
<th>library file</th>
<th>using style</th>
</tr>
</thead>
<tbody><tr>
<td>static library(Relocatable object file)</td>
<td>static link</td>
</tr>
<tr>
<td>shared library(shared object file)</td>
<td>dynamic link</td>
</tr>
<tr>
<td>shared library(shared object file)</td>
<td>loding &amp; linking at runtime</td>
</tr>
</tbody></table>
<h1 id="静态链接的步骤有哪些？"><a href="#静态链接的步骤有哪些？" class="headerlink" title="静态链接的步骤有哪些？"></a>静态链接的步骤有哪些？</h1><p>空间与地址分配<br>符号解析与重定位</p>
<h1 id="What-is-shared-library"><a href="#What-is-shared-library" class="headerlink" title="What is shared library?"></a>What is shared library?</h1><p>相对与静态链接库而言更节约磁盘和内存空间<br>通过其工作机制来说明什么是共享库。</p>
<p>共享库的创建（soname指定，即安装）<br>共享库的使用（运行时，编译时查找过程）</p>
<h1 id="How-the-dynamic-linking-mechanism-works-architecture-components"><a href="#How-the-dynamic-linking-mechanism-works-architecture-components" class="headerlink" title="How the dynamic linking mechanism works(architecture)(components)?"></a>How the dynamic linking mechanism works(architecture)(components)?</h1><p>compiler<br>loader<br>dynamic linker</p>
<p>library</p>
<h1 id="How-is-the-shared-library-to-work"><a href="#How-is-the-shared-library-to-work" class="headerlink" title="How is the shared library to work?"></a>How is the shared library to work?</h1><h2 id="How-to-use-a-shared-library-that-has-been-installed"><a href="#How-to-use-a-shared-library-that-has-been-installed" class="headerlink" title="How to use a shared library that has been installed?"></a>How to use a shared library that has been installed?</h2><h2 id="Compile-time"><a href="#Compile-time" class="headerlink" title="Compile time"></a><em>Compile time</em></h2><h3 id="How-to-compile-a-executable-program-to-dependent-on-a-shared-library"><a href="#How-to-compile-a-executable-program-to-dependent-on-a-shared-library" class="headerlink" title="How to compile a executable program to dependent on a shared library?"></a>How to compile a executable program to dependent on a shared library?</h3><p>when you compile your programs, you’ll need to tell the linker about any static and shared libraries that you’re using. Use the -l and -L options for this.</p>
<h2 id="Runtime"><a href="#Runtime" class="headerlink" title="Runtime"></a><em>Runtime</em></h2><p>starting up an ELF binary executable automatically causes the program loader to be loaded and run, this loader, in turn, finds and loads all other shared libraries used by the program.<br>有了上面的机制，我们所要做的就是在编译链接一个程序时，指出其所依赖的动态库。<br>有了上面的机制，我们需要在编译，链接一个程序时指出该程序所依赖的库名称，</p>
<h3 id="Where-is-the-dependent-lib’s-name-storing"><a href="#Where-is-the-dependent-lib’s-name-storing" class="headerlink" title="Where is the dependent lib’s name storing?"></a>Where is the dependent lib’s name storing?</h3><p>.dynamic section</p>
<h3 id="Where-to-find-the-program-dependent-libs"><a href="#Where-to-find-the-program-dependent-libs" class="headerlink" title="Where to find the program dependent libs?"></a>Where to find the program dependent libs?</h3><p>&#x2F;etc&#x2F;ld.so.conf</p>
<h4 id="Searching-all-of-these-directories-for-a-dependent-lib-at-program-start-up-would-be-grossly-inefficient-How-to-speed-this-caching"><a href="#Searching-all-of-these-directories-for-a-dependent-lib-at-program-start-up-would-be-grossly-inefficient-How-to-speed-this-caching" class="headerlink" title="Searching all of these directories for a dependent lib at program start-up would be grossly inefficient. How to speed this?(caching)"></a>Searching all of these directories for a dependent lib at program start-up would be grossly inefficient. How to speed this?(caching)</h4><p>We use ldconfig reads the file &#x2F;etc&#x2F;ld.so.conf and then writes a cache to &#x2F;etc&#x2F;ld.so.cache. If so, whenever a DLL is added, removed, or the set of DLL directories changes, the ldconfig is must be run. When program start-up, the dynamic loader actually uses the file &#x2F;etc&#x2F;ld.so.cache and then loads the libraries it needs.</p>
<h3 id="If-a-library-is-not-in-the-standard-place-how-to-use-it"><a href="#If-a-library-is-not-in-the-standard-place-how-to-use-it" class="headerlink" title="If a library is not in the standard place, how to use it?"></a>If a library is not in the standard place, how to use it?</h3><p>you need to give you program enough information to find the library:<br>you can use gcc’s -L flag in simple case,<br>you can use rpath approach,<br>you can set LD_LIBRARY_PATH environment variable, invoke the program like this</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LD_LIBRARY_PATH=.:<span class="variable">$LD_LIBRARY_PATH</span>  my_program</span><br></pre></td></tr></table></figure>

<h3 id="How-to-temporarily-substitute-a-different-library-for-this-particular-execution"><a href="#How-to-temporarily-substitute-a-different-library-for-this-particular-execution" class="headerlink" title="How to temporarily substitute a different library for this particular execution?"></a>How to temporarily substitute a different library for this particular execution?</h3><p>using LD_LIBRARY_PATH<br>where libraries should be searched for first before the standard set of directories.<br>or using the follow</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/lib/ld-linux.so.2 --library-path PATH EXECUTABLE</span><br></pre></td></tr></table></figure>

<h3 id="How-to-override-a-few-functions-in-a-library-but-keep-the-rest-of-the-library"><a href="#How-to-override-a-few-functions-in-a-library-but-keep-the-rest-of-the-library" class="headerlink" title="How to override a few functions in a library, but keep the rest of the library?"></a>How to override a few functions in a library, but keep the rest of the library?</h3><p>&#x2F;etc&#x2F;ld.so.preload<br>if it is not in a standard place<br>you can do this by setting LD_PRELOAD, </p>
<h3 id="During-you-development-a-shared-library-when-you-modified-the-library-that-also-used-by-many-other-programs-how-you-can-let-the-many-other-programs-continue-use-the-old-version-other-than-the-development-version"><a href="#During-you-development-a-shared-library-when-you-modified-the-library-that-also-used-by-many-other-programs-how-you-can-let-the-many-other-programs-continue-use-the-old-version-other-than-the-development-version" class="headerlink" title="During you development a shared library, when you modified the library that also used by many other programs, how you can let the many other programs continue use the old version other than the development version?"></a>During you development a shared library, when you modified the library that also used by many other programs, how you can let the many other programs continue use the old version other than the development version?</h3><p>you can solve this problem when compile the shared library using -rpath option</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Wl,-rpath,$(DEFAULT_LIB_INSTALL_PATH)</span><br></pre></td></tr></table></figure>
<p>-rpath到底是作用在谁的身上??</p>
<h2 id="How-to-create-a-shared-library"><a href="#How-to-create-a-shared-library" class="headerlink" title="How to create a shared library?"></a>How to create a shared library?</h2><p>create position independent code object files that will go into shared library using gcc option -fPIC or -fpic.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -fPIC -g -c -Wall file.c</span><br></pre></td></tr></table></figure>
<p>and then create the shared library as follow</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc -shared -Wl,-soname,your_soname \</span><br><span class="line">    -o library_name file_list library_list</span><br></pre></td></tr></table></figure>

<p>for example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gcc -fPIC -g -c -Wall a.c</span><br><span class="line">gcc -fPIC -g -c -Wall b.c</span><br><span class="line">gcc -shared -Wl,-soname,libmystuff.so.1 \</span><br><span class="line">    -o libmystuff.so.1.0.1 a.o b.o -lc</span><br></pre></td></tr></table></figure>


<p>创建库的时候需要-soname指定其soname，否则为空，导致ldconfig无法创建软连接，</p>
<h3 id="How-to-install-the-compiled-shared-library"><a href="#How-to-install-the-compiled-shared-library" class="headerlink" title="How to install the compiled shared library?"></a>How to install the compiled shared library?</h3><p>the simple approach is copy the created shared library into one of the standard directories, set up the necessary symbolic links, in particular a link from a soname to the realname, and run ldconfig. such as</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldconfig -n directory_with_shared_libraries</span><br></pre></td></tr></table></figure>


<h1 id="Terminology"><a href="#Terminology" class="headerlink" title="Terminology"></a>Terminology</h1><h2 id="Shared-library-name"><a href="#Shared-library-name" class="headerlink" title="Shared library name"></a>Shared library name</h2><p>When you install a new version of a library, you install it in one of a few special directories and then run the program ldconfig(8). ldconfig examines the existing files and creates the sonames as symbolic links to the real names, as well as setting up the cache file &#x2F;etc&#x2F;ld.so.cache </p>
<h3 id="soname"><a href="#soname" class="headerlink" title="soname"></a>soname</h3><p> The soname has the prefix “lib”, the name of the library, the phrase “.so”, followed by a period and a version number that is incremented whenever the interface changes.A fully-qualified soname includes as a prefix the directory it’s in; on a working system a fully-qualified soname is simply a symbolic link to the shared library’s “real name”.</p>
<h3 id="real-name"><a href="#real-name" class="headerlink" title="real name"></a>real name</h3><p>the filename containing the actual library code. The real name adds to the soname a period, a minor number, another period, and the release number.</p>
<p>libname.so.x.y.z</p>
<h3 id="linker-name"><a href="#linker-name" class="headerlink" title="linker name"></a>linker name</h3><p>the name that the compiler uses when requesting a library, which is the soname without any version number.</p>
<h2 id="what-name-should-exec-file-save-so-as-to-let-dynamic-linker-to-find-the-dependent-lib"><a href="#what-name-should-exec-file-save-so-as-to-let-dynamic-linker-to-find-the-dependent-lib" class="headerlink" title="what name should exec file save, so as to let dynamic linker to find the dependent lib?"></a>what name should exec file save, so as to let dynamic linker to find the dependent lib?</h2><p>将soname保存到exec的 .dynamic中。<br>soname<br>libname.so.x<br>让所有依赖于libname.so.x的模块，在编译，链接和运行时，都使用共享库的soname。</p>
<h2 id="how-to-update-the-shared-lib-version"><a href="#how-to-update-the-shared-lib-version" class="headerlink" title="how to update the shared lib version?"></a>how to update the shared lib version?</h2><p>如果主版本号不变，那么我们就可以直接用新库替换掉旧库，然后更新soname的软连接指向新版本库</p>
<h2 id="what-tools-can-used-to-install-the-new-version-lib"><a href="#what-tools-can-used-to-install-the-new-version-lib" class="headerlink" title="what tools can used to install the new version lib?"></a>what tools can used to install the new version lib?</h2><p>在linux下使用ldconfig工具来进行新版本库的安装，<br>如果，是更新已有的库，那该工具就会扫描默认共享库目录，让已存在的soname名称的软连接指向，最新的库。</p>
<p>如果，是安装新的库的话，该工具会创建一个新的soname名称的软连接。</p>
<p>ldconfig还会同时更新&#x2F;etc&#x2F;ld.so.conf</p>
<p>所以安装库最简单的办法是把库复制到某个标准目录下，然后运行ldconfig</p>
<h2 id="when-we-link-a-exec-or-lib-what-name-should-we-use"><a href="#when-we-link-a-exec-or-lib-what-name-should-we-use" class="headerlink" title="when we link a exec or lib, what name should we use?"></a>when we link a exec or lib, what name should we use?</h2><p>如果我们需要链接到libname.so.x.y.z的库，那么我们可以如下指定：<br>-lname -Ldir<br>编译器会在相关路径，查找最新版name库。</p>
<h2 id="which-directory-the-dynamic-linker-will-to-find-for-a-soname"><a href="#which-directory-the-dynamic-linker-will-to-find-for-a-soname" class="headerlink" title="which directory the dynamic linker will to find for a soname?"></a>which directory the dynamic linker will to find for a soname?</h2><p>如果DT_NEED里面保存的是绝对路径，那么动态链接器就按照这个路径去查找。<br>如果DT_NEED保存的是相对路径，那么动态链接器就会在&#x2F;lib, &#x2F;usr&#x2F;lib和&#x2F;etc&#x2F;ld.so.conf配置的目录中查找。</p>
<h2 id="how-to-change-the-directory-that-dynamic-linker-load-lib-so-as-to-development-and-test-our-own-lib"><a href="#how-to-change-the-directory-that-dynamic-linker-load-lib-so-as-to-development-and-test-our-own-lib" class="headerlink" title="how to change the directory that dynamic linker load lib, so as to development and test our own lib?"></a>how to change the directory that dynamic linker load lib, so as to development and test our own lib?</h2><p>LD_LIBRARY_PATH：<br>默认情况下，LD_LIBRARY_PATH为空，如果一个进程设置了LD_LIBRARY_PATH，那么进程在启动阶段，动态链接器会首先查找由LD_LIBRARY_PATH指定的目录。<br>通过LD_LIBRARY_PATH可以用来测试新的共享库，或使用非标准的共享库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LD_LIBRARY_PATH = /...libdir /bin/exe</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>动态链接器选项：<br>为了临时指定最先搜索的目录，我们也可以直接运行动态链接器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/lib/ld-linux.so -library-path /...libdir /bin/exe</span><br></pre></td></tr></table></figure>

<p>-rpath<br>动态链接器的-rpath选项，可以指定输出的可执行文件在被动态链接器装载时，动态链接器优先需要查找的路径。与以上方法不同的是，该方法在release的程序中可以使用。<br>总结查找顺序：<br>-rpath</p>
<ol>
<li>LD_LIBRARY_PATH</li>
<li>&#x2F;etc&#x2F;ld.so.cache</li>
<li>&#x2F;lib 和&#x2F;usr&#x2F;lib</li>
</ol>
<h2 id="how-to-preload-lib-before-the-dynamic-linker-search-in-order"><a href="#how-to-preload-lib-before-the-dynamic-linker-search-in-order" class="headerlink" title="how to preload lib before the dynamic linker search in order?"></a>how to preload lib before the dynamic linker search in order?</h2><p>LD_PRELOAD</p>
<ol>
<li>它比在LD_LIBRARY_PATH里的库更早</li>
<li>无论程序是否依赖于它们<br>也就是说不管啥情况，上来就先装载，该变量中的库。<br>由于，按照上面的规则，LD_PRELOAD里面的共享库中的全局符号会覆盖在后面加载的同名符号，这使得我们可以改变标准库中的几个函数，而不影响其他函数，对于测试很有帮助。</li>
</ol>
<h2 id="how-to-debug-the-link-process"><a href="#how-to-debug-the-link-process" class="headerlink" title="how to debug the link process?"></a>how to debug the link process?</h2><p>LD_DEBUG</p>
<h2 id="why-the-dynamic-linker-and-glibc-name-is-special"><a href="#why-the-dynamic-linker-and-glibc-name-is-special" class="headerlink" title="why the dynamic linker and glibc name is special?"></a>why the dynamic linker and glibc name is special?</h2><h1 id="Scenario"><a href="#Scenario" class="headerlink" title="Scenario"></a>Scenario</h1><h2 id="reverse-reference"><a href="#reverse-reference" class="headerlink" title="reverse reference"></a>reverse reference</h2><p>-Wl,-export-dynamic</p>
<p>when compile a executable dynamic object file use it</p>
<p>默认情况下，链接器在产生可执行文件时，只会将那些被其他共享模块引用到的符号放到全局符号表，在共享模块反向引用主模块中的符号时，只有那些在链接时被共享模块引用的符号会被导出。<br>在程序使用dlopen动态加载某个动态模块块时，该动态模块引用主模块中的符号，由于在编译时没有指定该动态加载的模块，所以主模块可能并没有导出被引用的符号，导致反向引用失败。<br>通过-export-dynamic，动态链接器会在产生可执行文件时，将所有的全局符号都导出到全局符号表中，从而解决上述问题。<br>reference<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/36692315/what-exactly-does-rdynamic-do-and-when-exactly-is-it-needed">https://stackoverflow.com/questions/36692315/what-exactly-does-rdynamic-do-and-when-exactly-is-it-needed</a></p>
<h2 id="How-to-list-the-shared-library-list-used-by-a-program"><a href="#How-to-list-the-shared-library-list-used-by-a-program" class="headerlink" title="How to list the shared library list used by a program?"></a>How to list the shared library list used by a program?</h2><p>ldd program</p>
<h1 id="How-to-implement-dynamic-linker"><a href="#How-to-implement-dynamic-linker" class="headerlink" title="How to implement dynamic linker?"></a>How to implement dynamic linker?</h1><p>动态链接器被调用的时机？<br>非常相关的问题是，动态库的加载</p>
<ol>
<li>对一个动态链接的程序，在启动时调用</li>
<li>通过dlopen 类似的接口运行时调用</li>
</ol>
<p>这两个问题也引出了系统中动态链接器存在的两种形式或称为对外的接口。</p>
<p>The dynamic linker is responsible for loading the shared libraries specified in DT_NEEDED entries or the shared libraries specified by the argument of dlopen().</p>
<h2 id="How-to-give-quite-verbose-information-about-what-the-dl-functions-are-doing"><a href="#How-to-give-quite-verbose-information-about-what-the-dl-functions-are-doing" class="headerlink" title="How to give quite verbose information about what the dl* functions are doing?"></a>How to give quite verbose information about what the dl* functions are doing?</h2><p>LD_DEBUG 该环境变量会在这边起作用 ???<br>&#x2F;lib&#x2F;x86_64-linux-gnu&#x2F;libdl.so.2</p>
<h2 id="Where-are-ld-so-source-code"><a href="#Where-are-ld-so-source-code" class="headerlink" title="Where are ld.so source code?"></a>Where are ld.so source code?</h2><p>elf&#x2F;rtld.c<br>sysdeps&#x2F;generic&#x2F;dl-sysdep.c</p>
<h2 id="use-dynamically-loaded-libraries"><a href="#use-dynamically-loaded-libraries" class="headerlink" title="use dynamically loaded libraries"></a>use dynamically loaded libraries</h2><h2 id="What-the-mean-of-dynamically-loaded-libraries"><a href="#What-the-mean-of-dynamically-loaded-libraries" class="headerlink" title="What the mean of dynamically loaded libraries?"></a>What the mean of dynamically loaded libraries?</h2><p>It is the libraries that are loaded at runtime other than the start up of a program.<br>it is the libraries that aren’t automatically loaded at program link time or start-up.</p>
<h1 id="How-to-use-a-dynamically-loaded-libraries"><a href="#How-to-use-a-dynamically-loaded-libraries" class="headerlink" title="How to use a dynamically loaded libraries?"></a>How to use a dynamically loaded libraries?</h1><p>we can use an API for opening a library, looking up symbols, handling errors, and closing the library.</p>
<p>C users will need to include the header file &lt;dlfcn.h&gt; to use this API.</p>
<p>However the api or interface is related to platform. If you want portability, you will need some wrapping library that hides differences between platform. For example<br>glib libray <a target="_blank" rel="noopener" href="http://developer.gnome.org/doc/API/glib/glib-dynamic-loading-of-modules.html">http://developer.gnome.org/doc/API/glib/glib-dynamic-loading-of-modules.html</a>.<br>libltdl <a target="_blank" rel="noopener" href="http://www.gnu.org/software/libtool/libtool.html">http://www.gnu.org/software/libtool/libtool.html</a></p>
<p>an example</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;dlfcn.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span></span><br><span class="line"><span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="type">void</span> *handle;</span><br><span class="line">        <span class="type">double</span> (*cosine)(<span class="type">double</span>);</span><br><span class="line">        <span class="type">char</span> *error;</span><br><span class="line">        handle = dlopen(<span class="string">&quot;/lib/x86_64-linux-gnu/libm.so.6&quot;</span>, RTLD_LAZY);</span><br><span class="line">        <span class="keyword">if</span> (!handle)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">fputs</span>(dlerror(), <span class="built_in">stderr</span>);</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cosine = dlsym(handle, <span class="string">&quot;cos&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> ((error = dlerror()) != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">fputs</span>(dlerror(), <span class="built_in">stderr</span>);</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, (*cosine)(<span class="number">2.0</span>));</span><br><span class="line">        dlclose(handle);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In linux compiled with </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -o dynamic_load_library dynamic_load_library.c -ldl</span><br></pre></td></tr></table></figure>
<h1 id="Scenario-1"><a href="#Scenario-1" class="headerlink" title="Scenario"></a>Scenario</h1><h2 id="plugin-or-module"><a href="#plugin-or-module" class="headerlink" title="plugin or module"></a>plugin or module</h2><p>they permit waiting to load the plugin until it’s needed. </p>
<h2 id="implement-interpreter"><a href="#implement-interpreter" class="headerlink" title="implement interpreter"></a>implement interpreter</h2><p>interpreter wish to occasionally compile their code into machine code and use the compiled verison for efficiency purposes, all without stopping.<br>for example, implementing a just-in-time compiler or multi-user dungeon(MUD)</p>
<p><a target="_blank" rel="noopener" href="https://tldp.org/HOWTO/Program-Library-HOWTO/dl-libraries.html">https://tldp.org/HOWTO/Program-Library-HOWTO/dl-libraries.html</a></p>
<h1 id="符号解析与重定位的时机有几种？"><a href="#符号解析与重定位的时机有几种？" class="headerlink" title="符号解析与重定位的时机有几种？"></a>符号解析与重定位的时机有几种？</h1><p>装载前<br>装载时<br>运行时：<br>延迟 bind</p>
<h4 id="该机制支持延迟-非延迟绑定吗"><a href="#该机制支持延迟-非延迟绑定吗" class="headerlink" title="该机制支持延迟&#x2F;非延迟绑定吗???"></a>该机制支持延迟&#x2F;非延迟绑定吗???</h4><p>运行时加载并链接（如果一个库在编译时没有PLT机制，那该机制还支持吗）</p>
<h1 id="库文件的装载时机有几种？"><a href="#库文件的装载时机有几种？" class="headerlink" title="库文件的装载时机有几种？"></a>库文件的装载时机有几种？</h1><p>装载时<br>运行时</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>库的实现原理被分成了哪几个阶段？？？<br>在各个阶段完成了什么样的工作？？？</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a target="_blank" rel="noopener" href="https://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html">https://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>youngvoice
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://youngvoice.github.io/2023/04/08/use_libraries/" title="库的实现原理被分成了哪几个阶段？在各个阶段完成了什么样的工作？？？">https://youngvoice.github.io/2023/04/08/use_libraries/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/cs/" rel="tag"># cs</a>
              <a href="/tags/linux/" rel="tag"># linux</a>
              <a href="/tags/linker/" rel="tag"># linker</a>
              <a href="/tags/loader/" rel="tag"># loader</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/04/02/kalman/" rel="prev" title="kalman filter">
                  <i class="fa fa-chevron-left"></i> kalman filter
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/04/09/book_Programmers_self-cultivation/" rel="next" title="为了让程序运行起来，我们对地址引用做了哪些事？？？">
                  为了让程序运行起来，我们对地址引用做了哪些事？？？ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2022 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">youngvoice</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"KXmlfX5j58VDYijiWp6nSyxa-gzGzoHsz","app_key":"icP17WRY0W95wXZ7w7X0pDd2","server_url":null,"security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"youngvoice/comment.youngvoice.github.io","issue_term":"title","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
